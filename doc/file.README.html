<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>
  File: README
  
    &mdash; Bol, a Ruby wrapper around the bol.com API
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><div id='filecontents'><h1 id="bol">Bol</h1>

<p><a href="http://travis-ci.org/avdgaag/bol"><img src="https://secure.travis-ci.org/avdgaag/bol.png?branch=master" alt="Build Status" /></a></p>

<p>A Ruby wrapper around the <a href="http://developers.bol.com">bol.com developers API</a>, that will be made
available as a Gem. <em>Currently in beta stage.</em></p>

<h2 id="getting-started">Getting started</h2>

<h3 id="installation">Installation</h3>

<p>Bol is a simple Ruby gem, so it requires a working installation of Ruby with
Ruby gems. Note: <strong>Ruby 1.9 is required</strong>. Install the gem:</p>

<p><code>
$ gem install bol
</code></p>

<p>Or, if your project uses <a href="http://gembundler.com">Bundler</a> simply add it to your <code>Gemfile</code>:</p>

<p><code>ruby
gem 'bol'
</code></p>

<p>Then, simply <code>require</code> it in your code, provide some configuration settings and
query away.</p>

<h3 id="configuration">Configuration</h3>

<p>To be allowed to make requests to the Bol.com API you need to register on their
site and request a access key and secret. Configure the Bol gem as follows:</p>

<p><code>ruby
Bol.configure do |c|
  c.key = 'your public access key'
  c.secret = 'your private secret'
  c.per_page = 10
end
</code></p>

<h3 id="example-application">Example application</h3>

<p>See an example Sinatra application implementing basic search-and-display 
functionality: <a href="https://gist.github.com/1724664">https://gist.github.com/1724664</a>.
There’s <a href="http://arjanvandergaag.nl/blog/bol-gem.html">an introductory blog post</a>
to go with it.</p>

<h2 id="available-operations">Available operations</h2>

<p>Here are the currently working operations:</p>

<h3 id="loading-a-specific-product">Loading a specific product</h3>

<p>If you know an ID, you can load a product directly:</p>

<p><code>ruby
product = Bol::Product.find(params[:id])
product.title
product.cover(:medium)
product.referral_url('my_associate_id')
</code></p>

<h3 id="listing-products">Listing products</h3>

<p>You can get a list of popular or bestselling products:</p>

<ul>
  <li><code>Bol.top_products</code></li>
  <li><code>Bol.top_products_overall</code></li>
  <li><code>Bol.top_products_last_week</code></li>
  <li><code>Bol.top_products_last_two_months</code></li>
  <li><code>Bol.new_products</code></li>
  <li><code>Bol.preorder_products</code></li>
</ul>

<p>Or, you can apply a scope to limit results to a category:</p>

<p><code>ruby
Bol::Scope.new(params[:category_id]).top_producs
</code></p>

<h3 id="searching-products">Searching products</h3>

<p>You can search globally for keywords or ISBN and use a Arel-like syntax
for setting options:</p>

<p><code>ruby
Bol.search(params[:query]).limit(10).offset(10).order('sales_ranking ASC')
Bol.search(params[:query]).page(params[:page])
</code></p>

<p>You can scope your search to a specific category:</p>

<p><code>ruby
Bol::Scope.new(params[:category_id]).search(params[:query])
</code></p>

<h3 id="loading-categories-and-refinements">Loading categories and refinements</h3>

<p>Loading all top-level categories (e.g. <code>DVDs</code> or <code>English Book</code>) is simple
enough:</p>

<p><code>ruby
categories = Bol.categories
categories.first.name # =&gt; 'Books'
</code></p>

<p>You can load subsequent subcategories:</p>

<p><code>ruby
Bol::Scope.new(categories.first.id).categories
</code></p>

<p>Refinements (e.g. ‘under 10 euros’) work much the same way as categories, but
are grouped under a shared name, such as group ‘Price’ with refinements ‘up to
10 euros’, ‘10 to 20 euros’, etc.:</p>

<p><code>ruby
groups = Bol.refinements
group = groups.first
group.name # =&gt; 'Price'
group.refinements.first.name # =&gt; 'under 10 euros'
</code></p>

<h3 id="scoping-operations">Scoping operations</h3>

<p>The <code>Bol::Scope</code> object limits results to given categories and/or refinements.
You can create a scope using explicit IDs, and you can do basic combinations:</p>

<p><code>ruby
books = Bol::Scope.new(some_category_id)
cheap = Bol::Scope.new(some_refinement_id)
(books + cheap).top_products
</code></p>

<p>Here’s an overview of all the operations that should still be implemented:</p>

<h2 id="background">Background</h2>

<p>The available operations map almost directly to operations provided by the API
to search, load lists of products or load a single product by ID. I do aim to
a add a little sugar to make working with Ruby objects a little easier:</p>

<ul>
  <li>Add <code>page</code> helper method to combine <code>limit</code> and <code>offset</code></li>
  <li>Scope operations by category in a ActiveRecord association style</li>
  <li>Delay API calls until explicitly requested or triggered by looping over
results</li>
</ul>

<h2 id="wishlist">Wishlist</h2>

<ul>
  <li>Allow scoping by category or refinement objects instead of just IDs</li>
  <li>Add a simple identiy map, so the same product does not have to be loaded
twice when requested twice</li>
  <li>Properly differentiate between product types. Currently built around books;
DVDs, music and toys may or may not work as expected.</li>
  <li>Add default ordering of products</li>
</ul>

<p>I do not need this stuff myself, but I will gladly take pull requests for such
features.</p>

<h2 id="note-on-patchespull-requests">Note on Patches/Pull Requests</h2>

<ul>
  <li>Fork the project.</li>
  <li>Make your feature addition or bug fix.</li>
  <li>Add tests for it. This is important so I don’t break it in a future version
unintentionally.</li>
  <li>Commit, do not mess with rakefile, version, or history. (if you want to have
your own version, that is fine but bump version in a commit by itself I can
ignore when I pull)</li>
  <li>Send me a pull request. Bonus points for topic branches.</li>
</ul>

<h2 id="history">History</h2>

<p>For a full list of changes, please see CHANGELOG.md</p>

<h2 id="license">License</h2>

<p>Copyright (C) 2011 by Arjan van der Gaag. Published under the MIT license. See
LICENSE.md for details.</p>
</div></div>

    <div id="footer">
  Generated on Thu May 31 18:48:10 2012 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.1 (ruby-1.9.3).
</div>

  </body>
</html>